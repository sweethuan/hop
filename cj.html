<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script src="./js/cj.js" type="text/javascript" charset="utf-8"></script>
		<title>123抽奖dev</title>
	</head>
	<body>
		<div id="app">
      <a href="http://23.36.250.63:9527/FBS/Services/ServiceFDFS.ashx?action=download&filetoken=d8580b1aa86146d589ef9deaa7fa7b64" download>点击下载</a>
			<!-- 大转盘抽奖 -->
			<lucky-wheel style="width: 310px; height: 310px" ref="LuckyWheel" :prizes="prizes" :default-style="defaultStyle"
			 :blocks="blocks" :buttons="buttons" @start="startCallBack" @end="endCallBack" />
			<!-- 九宫格抽奖 -->
			<lucky-grid style="width: 200px; height: 200px" />
		</div>
		<script>
      let str = "2018-07-01 ~ 2018-07-10"
      console.log(str.split(' ')[0].replace(/-/, '年').replace(/-/, '月') + '日' + ' ~ ' + str.split(' ')[2].replace(/-/, '年').replace(/-/, '月') + '日')
      console.log("----------------")
      
      
      function(colums,rowData){
                          let str = rowData[colums.key]
              ? rowData[colums.key].split(' ')[0].replace(/-/, '年').replace(/-/, '月') + '日' + ' ~ ' + rowData[colums.key].split(' ')[2].replace(/-/, '年').replace(/-/, '月') + '日'
              : "";
            if (!str) {
              let sfzh = false; //是否置灰
              let offon = [false, false, false, false];
              let jd = null;
              let jdData = [
                ["土地会审会时间"],
                ["公布公告时间", "公布公告起止时间", "竞标时间"],
                ["签订时间", "实际缴清时间"],
                [
                  "土地权属登记时间",
                  "划拨国有建设用地使用权批复时间",
                  "建设工程规划许可首次核发时间",
                  "建设用地规划许可首次核发时间",
                  "建设工程竣工规划核实首次核发时间",
                  "房屋权属首次登记时间"
                ]
              ];
              jdData.forEach((childData, index) => {
                childData.forEach(val => {
                  if (rowData[val]) offon[index] = true;
                  if (colums.key === val) jd = index;
                });
              });
              offon.forEach((val, index) => {
                if (jd === index) {
                  sfzh = offon.slice(index, 4).indexOf(true) > -1 ? false : true;
                }
              });
              if (sfzh) str = `<div style="background:#DCDCDC;height:100%"></div>`;
            }
            return str;
                   }
      
      
      
			let arr = [1,2,3,4,50,100]
			let num = 0
			for (let i=0;i<100000;i++) {
				let randomNum = Math.random()
				if(randomNum<=0.0001){
					num++
					let result = arr[arr.length-1]
					console.log(`第${i}次的结果是:${result}`)
				}
				/* if(i % 50000 == 0){
					console.log(i)
				} */
			}
			console.log('总共：',num)
			let count = 0
			let cs = 1000000
			let start = +new Date()
			for(let i = 0;i<cs;i++) {
				let x = Math.random()
				let y = Math.random()
				if(x*x+y*y<=1){
					count++
				}
			}
			console.log(`圆周率的值是：${4*count/cs}`)
			console.log(`执行${cs}次for循环需要${+new Date() - start}毫秒`)
			function getRandomIntInclusive(min, max) {
			  return Math.random() ; //含最大值，含最小值 
			}
			//console.log(getRandomIntInclusive(0, 100))
			new Vue({
				el: '#app',
				data: {
					prizes: [],
					defaultStyle: {
						fontColor: '#d64737',
						fontSize: '14px'
					},
					blocks: [{
						padding: '13px',
						background: '#d64737'
					}],
					buttons: [{
							radius: '50px',
							background: 'aqeu'
						},
						{
							radius: '45px',
							background: '#fff'
						},
						{
							radius: '41px',
							background: '#f6c66f',
							pointer: true
						},
						{
							radius: '35px',
							background: '#ffdea0',
							/* imgs: [{
								src: require('./img/button.png'),
								width: '65%',
								top: '-13%'
							}] */
						}
					],
				},
				mounted() {
					this.getPrizesList()
				},
				methods: {
					getPrizesList() {
						this.prizes = []
						let data = ['1元红包', '100元红包', '0.5元红包', '2元红包', '10元红包', '50元红包', '0.3元红包', '5元红包']
						data.forEach((item, index) => {
							this.prizes.push({
								title: item,
								background: index % 2 ? '#f9e3bb' : '#f8d384',
								fonts: [{
									text: item,
									top: '8%'
								}],
								/* imgs: [{
									src: require(`./img/${index}.png`),
									width: '30%',
									top: '25%'
								}], */
							})
						})
					},
					startCallBack() {
						this.$refs.LuckyWheel.play()
						setTimeout(() => {
							this.$refs.LuckyWheel.stop(Math.random() * 8 >> 0)
						}, 1000)
					},
					endCallBack(prize) {
						alert(`恭喜你获得${prize.title}`)
					},
				}
			})
		</script>
	</body>
</html>
